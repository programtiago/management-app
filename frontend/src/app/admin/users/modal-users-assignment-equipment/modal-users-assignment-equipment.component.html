<mat-toolbar style="display: flex; align-content: center; justify-content: center;" color="primary">
    Assign Equipment
</mat-toolbar>
<mat-card>
    <mat-card-content>
      <div *ngIf="!canChooseMultipleEquipments" >
        <mat-form-field appearance="fill" class="full-width">
            <mat-label>Select Equipment</mat-label>
            <mat-select [formControl]="cMultiCtrl" #equipmentValue (selectionChange)="changeEquipment($event.value)" required>
              @for (equipment of equipments; track equipments) {
                <mat-option [value]="equipment.id">{{equipment.description}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <button color="primary" mat-mini-fab (click)="clear()" matPrefix style="margin-left: 1em;"><mat-icon>clear</mat-icon></button>
        </div>  
          
        <div *ngIf="canChooseMultipleEquipments">
          <mat-form-field appearance="fill" class="full-width">
            <mat-label>Select Equipment</mat-label>
            <mat-select #equipmentValue (selectionChange)="changeEquipment($event.value)" multiple>
              @for (equipment of equipments; track equipments) {
                <mat-option [value]="equipment.id">{{equipment.description}}</mat-option>
              }
            </mat-select>
          </mat-form-field> 
          <button color="primary" mat-mini-fab (click)="clear()" matPrefix style="margin-left: 1em;"><mat-icon>clear</mat-icon></button>
        </div>  
          <mat-checkbox (change)="canChooseMultipleEquipments = $event.source.checked" [checked]="canChooseMultipleEquipments" color="primary">Assign multiple equipments</mat-checkbox>  
    </mat-card-content>
</mat-card>
<mat-card *ngIf="canLoadInformationCardAssignment" style="display: flex; align-content: center; justify-content: center;">
  <mat-card-header style="display: table-row; justify-content: center; align-content: center;">
    <mat-card-title style="display: flex; justify-content: center; align-content: center;">Overview of assignment</mat-card-title>
  </mat-card-header>
  <mat-card-content>
      <div class="card-assignment-information" style="justify-content: center; align-content: center;">
        <mat-card>
          <div *ngIf="!wasClaredMatSelect" class="card-equipment-information">
            <p>Marca: {{selectedEquipment.brand}}</p>
            <p>Modelo: {{selectedEquipment.model}}</p>
            <p>S/N: {{selectedEquipment.serialNumber}}</p>
            <p>Unidade: {{selectedEquipment.unity}}</p>
          </div>
        </mat-card>
        
        <mat-card>
          <div class="card-user-information">
            <p>Nome: {{data.firstName + data.lastName}}</p>
            <p>NÃºmero de Colaborador: {{data.workNumber}}</p>
            <p>Departamento: {{data.department.value}}</p>
            <p>Email: {{data.email}}</p>
          </div>
        </mat-card>
    </div>
  </mat-card-content>

  <ng-template>
    <div class="loading-spinner">
        <mat-spinner></mat-spinner>
    </div>
  </ng-template>

    <mat-card-actions  style="justify-content: center; align-content: center">
        <button (click)="onConfirm(true)" mat-raised-button color="primary">Confirm</button>
        <button (click)="onConfirm(false)" mat-raised-button color="warn">Cancel</button>
    </mat-card-actions>
</mat-card>